<%# app/views/storefront/account/bookings/index.html.erb %>

<%= render 'themes/default/spree/account/account_nav', current: 'bookings' %>

<div class="max-w-3xl mx-auto p-6">
  <h1 class="text-2xl font-semibold mb-4">Mijn boekingen</h1>

  <% if @bookings.blank? %>
    <p class="text-muted-foreground">Je hebt nog geen boekingen.</p>
  <% else %>
    <ul class="divide-y divide-border">
      <% @bookings.each do |booking| %>
        <% s = booking.try(:session) %>
        <li class="py-4 flex items-center justify-between">
          <div>
            <div class="font-medium"><%= s&.class_type&.name || "Sessie" %></div>
            <div class="text-sm text-muted-foreground">
              <%= s&.start_at ? l(s.start_at, format: :long) : "TBD" %>
              <% if s&.trainer&.user %> Â· Trainer: <%= s.trainer.user.email %><% end %>
            </div>
          </div>
          <span class="text-sm">
            Credit gebruikt: <%= (booking.respond_to?(:credit_cost) && booking.credit_cost.present?) ? booking.credit_cost : 1 %>
          </span>
        </li>
      <% end %>
    </ul>
  <% end %>
</div>